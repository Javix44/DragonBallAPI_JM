Dragon Ball API Integration Challenge 

This project is a RESTful API built with ASP.NET Core that integrates data from a third-party API ([https://dragonball-api.com](https://dragonball-api.com)) and stores it in a local database. 
The application focuses on fulfilling specific business rules by filtering and saving relevant information about characters and their transformations.

---

Technologies Used

- ASP.NET Core Web API
- Entity Framework Core (Code First)
- SQL Server
- JWT (Json Web Token) for authentication
- HTTP Client
- Swagger UI

---

Business Rules

- Only store characters whose race is "Saiyan".
- Only store transformations from characters whose affiliation is "Z Fighter".
- Before syncing, the characters and transformations tables must be empty. If not, an error will be returned.

---

API Endpoints

GET Endpoints

| Endpoint | Description |

| `/api/characters` | Get all characters. |

| `/api/characters/{id}` | Get a character by ID. |

| `/api/characters/byname/{name}` | Get a character by name. |

| `/api/characters/byaffiliation/{affiliation}` | Get characters by affiliation. |

| `/api/transformations` | Get all transformations. |

POST Endpoint

| Endpoint | Description |

| `/api/characters/sync` | Fetch characters and transformations from external API and store them locally. Only works if DB is empty. |

---

Authentication (JWT)

All endpoints require JWT authentication.

Make sure you already have a valid JWT token generated by login.
Username = Admin
Password = 1234

How to use JWT with Swagger

1. Click "Authorize" on Swagger UI.
2. Enter your token like this:
Bearer {key generated by login}
Example:
Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6
3. Click Authorize and then try the endpoints.

---

How to use JWT with Postman

1. Go to the Authorization tab.
2. Set Type to `Bearer Token`.
3. Paste your token in the field:
Bearer {key generated by login}
Example:
Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6
4. Send your requests.

---

rchitecture Overview

This project does not strictly follow Clean Architecture, but implements key separation of concerns:

- `Domain`: Contains entities and interfaces (repositories).
- `Infrastructure`: Contains EF Core DbContext and implementations.
- `Controllers`: Handle HTTP requests and use services/repositories.
- `Data`: Includes migrations and seeding logic.

Code First approach was used for database modeling.

---

Database Structure

- Characters and Transformations tables with a one-to-many relationship.
- The `Character` entity has a list of related `Transformation`s.
- Migrations are included to generate the database schema.

---

Developed by Javier Martinez as a technical challenge to demonstrate integration of external APIs into a local DB with .NET.
